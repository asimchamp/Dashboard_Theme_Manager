<dashboard version="1.1" isDashboard="false" hideEdit="true" hideAppBar="true" script="js/home/home.js,js/common/hide_header.js,js/common/sidebar.js,js/theme_gallery.js" stylesheet="css/home/home.css,css/common/hide_header.css,css/common/sidebar.css" theme="dark">
    <label>Theme Manager</label>
    <description>Manage and apply themes to your Splunk dashboards</description>
    
    <row>
        <panel>
            <html>
                <div class="dashboard-container" id="themeManagerApp">
                    <!-- Sidebar will be injected here by sidebar.js -->

                    <!-- Professional Top Bar -->
                    <div class="tm-top-bar">
                        <div class="tm-top-bar-brand">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="tm-brand-icon">
                                <rect width="7" height="9" x="3" y="3" rx="1"/>
                                <rect width="7" height="5" x="14" y="3" rx="1"/>
                                <rect width="7" height="9" x="14" y="12" rx="1"/>
                                <rect width="7" height="5" x="3" y="16" rx="1"/>
                            </svg>
                            <span class="tm-brand-name">Dashboard Overview</span>
                        </div>
                        <div class="tm-top-bar-nav">
                            <!-- Dark mode toggle moved to sidebar -->
                        </div>
                    </div>

                    <!-- Main Content -->
                    <main class="tm-main">
                        <!-- Stats Section -->
                        <div class="tm-stats-grid">
                            <!-- Card 1: Available Themes (JS Driven) -->
                            <div class="tm-stat-card">
                                <div class="tm-stat-icon-wrapper">
                                    <div class="tm-stat-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                             <path d="M12 2a10 10 0 1 0 10 10H12V2Z"></path>
                                             <path d="M12 2v10h10a10 10 0 0 1-10 10"></path>
                                        </svg>
                                    </div>
                                </div>
                                <div class="tm-stat-content">
                                    <p class="tm-stat-label">Available Themes</p>
                                    <p class="tm-stat-value" id="theme-count-home">...</p>
                                </div>
                            </div>

                            <!-- Card 2: Used Themes (Search Driven) -->
                            <div class="tm-stat-card">
                                <div class="tm-stat-icon-wrapper">
                                    <div class="tm-stat-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                                        </svg>
                                    </div>
                                </div>
                                <div class="tm-stat-content">
                                    <p class="tm-stat-label">Used Themes</p>
                                    <p class="tm-stat-value" id="stat-used-themes">0</p>
                                </div>
                            </div>

                            <!-- Card 3: Styled Dashboards (Search Driven) -->
                            <div class="tm-stat-card">
                                <div class="tm-stat-icon-wrapper">
                                    <div class="tm-stat-icon">
                                         <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <rect width="7" height="9" x="3" y="3" rx="1"></rect>
                                            <rect width="7" height="5" x="14" y="3" rx="1"></rect>
                                            <rect width="7" height="9" x="14" y="12" rx="1"></rect>
                                            <rect width="7" height="5" x="3" y="16" rx="1"></rect>
                                         </svg>
                                    </div>
                                </div>
                                <div class="tm-stat-content">
                                    <p class="tm-stat-label">Used Dashboards</p>
                                    <p class="tm-stat-value" id="stat-used-dashboards">0</p>
                                </div>
                            </div>

                            <!-- Card 4: Total Dashboards (Search Driven) -->
                            <div class="tm-stat-card">
                                <div class="tm-stat-icon-wrapper">
                                    <div class="tm-stat-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                            <line x1="3" y1="9" x2="21" y2="9"></line>
                                            <line x1="9" y1="21" x2="9" y2="9"></line>
                                        </svg>
                                    </div>
                                </div>
                                <div class="tm-stat-content">
                                    <p class="tm-stat-label">Total Dashboards</p>
                                    <p class="tm-stat-value" id="stat-total-dashboards">0</p>
                                </div>
                            </div>
                        </div>

                        <!-- Analytics Row: Dashboard Table + Top Themes -->
                        <div class="tm-analytics-row">
                            <!-- Dashboard Table (70%) -->
                            <div class="tm-dashboard-table-container">
                                <div class="tm-table-header">
                                    <h3 class="tm-table-title">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle; margin-right: 0.5rem;">
                                            <rect width="7" height="7" x="3" y="3" rx="1"></rect>
                                            <rect width="7" height="7" x="14" y="3" rx="1"></rect>
                                            <rect width="7" height="7" x="14" y="14" rx="1"></rect>
                                            <rect width="7" height="7" x="3" y="14" rx="1"></rect>
                                        </svg>
                                        Themed Dashboards
                                    </h3>
                                    <p class="tm-table-description">Manage your styled dashboards</p>
                                </div>
                                <div id="dashboard-table-wrapper" class="tm-table-wrapper">
                                    <!-- Table will be dynamically populated by JS -->
                                    <div class="tm-table-loading">Loading...</div>
                                </div>
                            </div>

                            <!-- Top Used Themes (30%) -->
                            <div class="tm-top-themes-container">
                                <div class="tm-panel-header">
                                    <h3 class="tm-panel-title">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle; margin-right: 0.5rem;">
                                            <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                                            <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                                            <path d="M4 22h16"></path>
                                            <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
                                            <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
                                            <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
                                        </svg>
                                        Top Used Themes
                                    </h3>
                                    <p class="tm-panel-description">Most popular themes across all dashboards</p>
                                </div>
                                <div id="top-themes-list" class="tm-themes-list">
                                    <!-- Leaderboard will be dynamically populated by JS -->
                                    <div class="tm-table-loading">Loading...</div>
                                </div>
                            </div>
                        </div>


                        <!-- Section Header for Favorites -->
                        <div class="tm-section-header">
                            <div>
                                <h2 class="tm-section-title">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle; margin-right: 0.5rem;">
                                        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
                                    </svg>
                                    My Favorites
                                </h2>
                                <p class="tm-section-description">Your personally selected favorite themes</p>
                            </div>
                        </div>

                        <!-- Favorites Carousel - DYNAMIC RENDERING -->
                        <div class="tm-theme-carousel" id="favorites-carousel-container">
                            <!-- Theme cards will be dynamically generated by theme_gallery.js -->
                        </div>

                        <!-- Section Header for Editor Picks -->
                        <div class="tm-section-header">
                            <div>
                                <h2 class="tm-section-title">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle; margin-right: 0.5rem;">
                                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
                                    </svg>
                                    Editor Pick
                                </h2>
                                <p class="tm-section-description">Curated selection of top-tier themes</p>
                            </div>
                        </div>

                        <!-- Editor Pick Carousel - DYNAMIC RENDERING -->
                        <div class="tm-theme-carousel" id="editor-pick-carousel-container">
                            <!-- Theme cards will be dynamically generated by theme_gallery.js -->
                        </div>

                        <!-- Section Header for Themes -->
                        <div class="tm-section-header">
                            <div>
                                <h2 class="tm-section-title">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display: inline-block; vertical-align: middle; margin-right: 0.5rem;">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <polyline points="12 6 12 12 16 14"></polyline>
                                    </svg>
                                    Recent Themes
                                </h2>
                                <p class="tm-section-description">Quick access to popular themes</p>
                            </div>
                            <a href="theme_dh" class="tm-view-all-link">
                                View All
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="m9 18 6-6-6-6"></path>
                                </svg>
                            </a>
                        </div>

                        <!-- Theme Carousel - DYNAMIC RENDERING -->
                        <div class="tm-theme-carousel" id="theme-carousel-container">
                            <!-- Theme cards will be dynamically generated by theme_gallery.js -->
                        </div>
                        
                        <!-- Include Dynamic Theme Gallery Script -->
                    </main>
                </div>
            </html>
        </panel>
    </row>
</dashboard>