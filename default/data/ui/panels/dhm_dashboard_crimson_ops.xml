<panel depends="$alwaysHideCSS$">
    <html>
        <style>
            /* 
               CRIMSON OPS THEME
               A tactical, high-contrast, HUD-style interface designed for alerts and mission-critical ops.
               Diversity Points Satisfied:
               1. Primary Red Palette (Unique tactical aesthetic)
               2. Chamfered/Sharp Geometries (vs Rounded)
               3. Monospace Typography (Technical data feel)
               4. Scan/Radar Animations (Active monitoring feel)
               5. High Contrast Dark Mode (Void black vs bright crimson)
            */

             /* ==================================================================================
               1. DESIGN TOKENS and VARIABLES
               ================================================================================== */
            :root {
                /* Colors */
                --color-bg-void: #050505;
                --color-bg-panel: #0a0a0a;
                --color-bg-surface: #111111;
                --color-bg-input: #151515;
                
                --color-primary: #DC143C;        /* Crimson */
                --color-primary-dim: #8B0000;    /* Dark Red */
                --color-primary-bright: #FF4500; /* Orange Red shift */
                
                --color-text-main: #eeeeee;
                --color-text-muted: #888888;
                --color-text-accent: #DC143C;
                
                --color-border-subtle: #333333;
                --color-border-strong: #DC143C;
                
                /* Spacing */
                --space-xs: 4px;
                --space-sm: 8px;
                --space-md: 16px;
                --space-lg: 24px;
                --space-xl: 32px;
                
                /* Typography */
                --font-tactical: 'Roboto Mono', 'Consolas', 'Monaco', monospace;
                --font-ui: 'Inter', system-ui, sans-serif;
                
                /* Borders and Shapes */
                --border-width: 1px;
                --border-width-thick: 2px;
                --angle-cut: 12px;
                
                /* Motion */
                --anim-fast: 0.15s;
                --anim-med: 0.3s;
                --anim-slow: 0.8s;
                --anim-scan: 4s;
                
                --ease-tech: cubic-bezier(0.1, 0.9, 0.2, 1);
            }

            /* ==================================================================================
               2. GLOBAL RESET and BASE STYLES
               ================================================================================== */
            
            /* App Background */
            .dashboard-body, 
            .dashboard-view-controls {
                background-color: var(--color-bg-void) !important;
                background-image: 
                    linear-gradient(rgba(220, 20, 60, 0.03) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(220, 20, 60, 0.03) 1px, transparent 1px) !important;
                background-size: 40px 40px !important;
                font-family: var(--font-ui) !important;
                color: var(--color-text-main) !important;
            }

            /* Remove default styling artifacts */
            .splunk-message-container,
            .dashboard-header-description {
                color: var(--color-text-muted) !important;
            }

            /* Scrollbars - Technical Look */
            ::-webkit-scrollbar {
                width: 10px;
                height: 10px;
                background: var(--color-bg-void);
            }
            ::-webkit-scrollbar-thumb {
                background: var(--color-primary-dim);
                border: 2px solid var(--color-bg-void);
                border-radius: 0;
            }
            ::-webkit-scrollbar-thumb:hover {
                background: var(--color-primary);
            }
            ::-webkit-scrollbar-corner {
                background: var(--color-bg-void);
            }

            /* ==================================================================================
               3. DASHBOARD HEADER and TITLE
               ================================================================================== */
            
            /* Header Container */
            .dashboard-header {
                background: transparent !important;
                padding-bottom: var(--space-lg) !important;
                position: relative;
                margin-bottom: var(--space-xl) !important;
                border-bottom: 2px solid var(--color-border-subtle);
            }

            /* Title Animation */
            @keyframes typeReveal {
                from { opacity: 0; transform: translateX(-20px); }
                to { opacity: 1; transform: translateX(0); }
            }

            /* Dashboard Title */
            .dashboard-header h1.dashboard-title {
                color: var(--color-text-main) !important;
                font-family: var(--font-tactical) !important;
                text-transform: uppercase !important;
                font-weight: 700 !important;
                letter-spacing: 2px !important;
                font-size: 28px !important;
                text-shadow: 0 0 10px rgba(220, 20, 60, 0.5);
                display: flex;
                align-items: center;
                animation: typeReveal 0.5s var(--ease-tech) forwards;
            }

            /* Tech decoration before title */
            .dashboard-header h1.dashboard-title::before {
                content: "\003c\003c";
                color: var(--color-primary);
                margin-right: 12px;
                font-size: 24px;
                animation: blink 1s infinite step-end;
            }

            .dashboard-header h1.dashboard-title::after {
                content: "\003e\003e";
                color: var(--color-primary);
                margin-left: 12px;
                font-size: 24px;
                animation: blink 1s infinite step-end;
            }

            @keyframes blink {
                50% { opacity: 0; }
            }

            /* Dashboard Description */
            .dashboard-header-description {
                font-family: var(--font-tactical) !important;
                color: var(--color-text-muted) !important;
                font-size: 12px !important;
                text-transform: uppercase;
                letter-spacing: 1px;
                margin-top: 8px !important;
                padding-left: 40px;
                border-left: 2px solid var(--color-border-subtle);
            }

            /* THEME BADGE (CRITICAL REQUIREMENT) */
            .dashboard-header::after {
                content: "CRIMSON OPS";
                position: fixed;
                top: 125px; /* STRICT REQUIREMENT */
                right: 20px;
                background: rgba(220, 20, 60, 0.1);
                border: 1px solid var(--color-primary);
                color: var(--color-primary);
                padding: 4px 12px;
                font-family: var(--font-tactical);
                font-size: 10px;
                font-weight: bold;
                letter-spacing: 2px;
                pointer-events: none;
                z-index: 1000;
                box-shadow: 0 0 15px rgba(220, 20, 60, 0.2);
                backdrop-filter: blur(4px);
                clip-path: polygon(
                    10px 0, 100% 0, 
                    100% calc(100% - 10px), calc(100% - 10px) 100%, 
                    0 100%, 0 10px
                );
            }

            /* Watermark */
            .dashboard-body::after {
                content: "Splunk Theme Manager";
                position: fixed;
                bottom: 20px;
                right: 20px;
                color: rgba(255, 255, 255, 0.22);
                font-family: var(--font-tactical);
                font-size: 35px;
                font-weight: 900;
                line-height: 0.8;
                pointer-events: none;
                z-index: 0;
                text-align: right;
                opacity: 0;
                animation: fadeIn 2s 1s ease-out forwards;
            }

            @keyframes fadeIn {
                to { opacity: 1; }
            }

            /* ==================================================================================
               4. INPUTS and FILTERS (HUD STYLE)
               ================================================================================== */
            
            /* Input Containers */
            .input {
                margin-bottom: 20px !important;
            }
            
            .input label {
                font-family: var(--font-tactical) !important;
                color: var(--color-primary) !important;
                font-size: 10px !important;
                text-transform: uppercase !important;
                letter-spacing: 1px !important;
                margin-bottom: 4px !important;
            }

            /* Text Inputs */
            .splunk-textinput input {
                background-color: var(--color-bg-input) !important;
                border: 1px solid var(--color-border-subtle) !important;
                border-left: 3px solid var(--color-primary-dim) !important;
                color: var(--color-text-main) !important;
                font-family: var(--font-tactical) !important;
                height: 32px !important;
                border-radius: 0 !important;
                transition: all 0.2s ease !important;
            }

            .splunk-textinput input:focus {
                background-color: var(--color-bg-surface) !important;
                border-color: var(--color-primary) !important;
                box-shadow: 0 0 10px rgba(220, 20, 60, 0.2) !important;
                outline: none !important;
            }

            /* Dropdowns */
            .splunk-dropdown .select2-choice {
                background-image: none !important;
                background-color: var(--color-bg-input) !important;
                border: 1px solid var(--color-border-subtle) !important;
                border-radius: 0 !important;
                color: var(--color-text-main) !important;
                font-family: var(--font-tactical) !important;
                height: 32px !important;
                line-height: 30px !important;
            }

            .splunk-dropdown .select2-choice:hover {
                border-color: var(--color-primary) !important;
                color: var(--color-primary) !important;
            }

            .splunk-dropdown .select2-container-active .select2-choice {
                border-color: var(--color-primary) !important;
                box-shadow: 0 0 8px rgba(220, 20, 60, 0.3) !important;
            }

            /* Timerange Picker */
            .splunk-timerange .btn {
                background-image: none !important;
                background-color: var(--color-bg-input) !important;
                border: 1px solid var(--color-border-subtle) !important;
                color: var(--color-text-main) !important;
                font-family: var(--font-tactical) !important;
                border-radius: 0 !important;
            }
            
            .splunk-timerange .btn:hover {
                background-color: var(--color-bg-surface) !important;
                color: var(--color-primary) !important;
                border-color: var(--color-primary) !important;
            }

            /* Search Button */
            .form-submit button {
                background-color: var(--color-primary-dim) !important;
                border: 1px solid var(--color-primary) !important;
                color: white !important;
                font-family: var(--font-tactical) !important;
                text-transform: uppercase !important;
                font-weight: bold !important;
                border-radius: 0 !important;
                transition: all 0.2s !important;
            }
            
            .form-submit button:hover {
                background-color: var(--color-primary) !important;
                box-shadow: 0 0 15px var(--color-primary) !important;
            }

            /* ==================================================================================
               5. PANEL CONTAINERS (TACTICAL CARDS)
               ================================================================================== */
            
            .dashboard-panel {
                background-color: var(--color-bg-panel) !important;
                border: 1px solid var(--color-border-subtle) !important;
                border-radius: 0 !important; /* No rounded corners */
                box-shadow: none !important;
                margin-bottom: 20px !important;
                position: relative !important;
                overflow: hidden !important;
                
                /* Chamfered corners via clip-path */
                clip-path: polygon(
                    0 0, 
                    calc(100% - 15px) 0, 
                    100% 15px, 
                    100% 100%, 
                    15px 100%, 
                    0 calc(100% - 15px)
                );
                
                transition: transform 0.3s var(--ease-tech), border-color 0.3s !important;
            }

            /* Technical Corner Markers */
            .dashboard-panel::before {
                content: "";
                position: absolute;
                top: 0;
                right: 0;
                width: 30px;
                height: 30px;
                background: linear-gradient(-135deg, var(--color-primary-dim) 15px, transparent 15px);
                z-index: 2;
                opacity: 0.5;
            }
            .dashboard-panel::after {
                content: "";
                position: absolute;
                bottom: 0;
                left: 0;
                width: 30px;
                height: 30px;
                background: linear-gradient(45deg, var(--color-primary-dim) 15px, transparent 15px);
                z-index: 2;
                opacity: 0.5;
            }

            /* Hover Effect */
            .dashboard-panel:hover {
                transform: translateY(-2px);
                border-color: var(--color-text-muted) !important; 
            }
            /* We can't easily change border color with clip-path, so simulate with box-shadow on inner element or just leave subtle */

            /* Panel Title */
            .dashboard-panel .panel-title {
                font-family: var(--font-tactical) !important;
                text-transform: uppercase !important;
                font-size: 14px !important;
                color: var(--color-text-main) !important;
                letter-spacing: 1px !important;
                border-bottom: 1px solid var(--color-border-subtle) !important;
                padding: 10px 15px !important;
                background: linear-gradient(90deg, rgba(220, 20, 60, 0.1), transparent) !important;
            }

            /* Active Scan Line Animation */
            .dashboard-panel .panel-body::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 2px;
                background: var(--color-primary);
                opacity: 0;
                z-index: 10;
                pointer-events: none;
            }

            .dashboard-panel:hover .panel-body::before {
                animation: scanLine 2s linear infinite;
                opacity: 0.5;
            }

            @keyframes scanLine {
                0% { top: 0; opacity: 0; }
                10% { opacity: 0.8; }
                90% { opacity: 0.8; }
                100% { top: 100%; opacity: 0; }
            }

            /* ==================================================================================
               6. TABLE STYLING (DATA GRID)
               ================================================================================== */
            
            .table {
                background: transparent !important;
                border: none !important;
                font-family: var(--font-tactical) !important;
            }

            /* Header */
            .table th {
                background-color: var(--color-bg-surface) !important;
                color: var(--color-primary) !important;
                text-transform: uppercase !important;
                border-bottom: 2px solid var(--color-primary) !important;
                font-size: 11px !important;
                padding: 8px 12px !important;
                letter-spacing: 1px;
            }

            /* Rows */
            .table td {
                border-top: 1px solid var(--color-border-subtle) !important;
                border-bottom: none !important;
                color: var(--color-text-main) !important;
                font-size: 12px !important;
                padding: 8px 12px !important;
                transition: all 0.1s !important;
            }

            /* Zebra Stripe inverted preference - just dark */
            .table tr.even td {
                background-color: rgba(255, 255, 255, 0.02) !important;
            }
            .table tr.odd td {
                background-color: transparent !important;
            }

            /* Row Hover */
            .table tr:hover td {
                background-color: rgba(220, 20, 60, 0.1) !important;
                color: white !important;
                border-top-color: var(--color-primary) !important;
            }

             /* ==================================================================================
               7. SINGLE VALUE / KPI
               ================================================================================== */
            
            .splunk-single-value .single-value {
                font-family: var(--font-tactical) !important;
                color: var(--color-primary-bright) !important;
                text-shadow: 0 0 10px rgba(255, 69, 0, 0.4);
                font-weight: bold !important;
            }

            .splunk-single-value .single-label {
                color: var(--color-text-muted) !important;
                text-transform: uppercase !important;
                font-size: 10px !important;
                letter-spacing: 2px !important;
            }

            .single-trend-diff {
                background-color: rgba(255, 255, 255, 0.1) !important;
                border: 1px solid var(--color-border-subtle) !important;
                padding: 2px 6px !important;
                border-radius: 0 !important;
            }

            /* ==================================================================================
               8. CHARTS (HIGHCHARTS SVG)
               ================================================================================== */
            
            /* Background */
            .highcharts-background {
                fill: transparent !important;
            }
            .highcharts-grid-line {
                stroke: #222222 !important;
                stroke-dasharray: 2, 2;
            }
            .highcharts-axis-line {
                stroke: #444444 !important;
            }
            
            /* Text Labels */
            .highcharts-axis-labels text, .highcharts-legend-item text {
                fill: var(--color-text-muted) !important;
                font-family: var(--font-tactical) !important;
                font-size: 10px !important;
                text-transform: uppercase;
            }
            .highcharts-legend-item:hover text {
                fill: var(--color-primary) !important;
            }

            /* ----------------------------------------------------------------------------------
               CHART COLOR PALETTE (Tactical Red/Black/White)
               Uses nth-child on .highcharts-point to cycle colors for Pies/Bars
               Uses series-index on .highcharts-graph for Line charts
               ---------------------------------------------------------------------------------- */
            
            /* Palette Definition */
            /* 1: Crimson, 2: Dark Red, 3: Orange-Red, 4: Slate, 5: White */

            /* LINE CHARTS (Stroke Only) */
            .highcharts-graph.highcharts-series-0 { stroke: #DC143C !important; }
            .highcharts-graph.highcharts-series-1 { stroke: #8B0000 !important; }
            .highcharts-graph.highcharts-series-2 { stroke: #FF4500 !important; }
            .highcharts-graph.highcharts-series-3 { stroke: #2F4F4F !important; }
            .highcharts-graph.highcharts-series-4 { stroke: #EEEEEE !important; }

            /* BAR and PIE CHARTS (Fill + Stroke) - Cycle Colors per point */
            .highcharts-point:nth-child(5n+1) { fill: #DC143C !important; stroke: #000 !important; }
            .highcharts-point:nth-child(5n+2) { fill: #8B0000 !important; stroke: #000 !important; }
            .highcharts-point:nth-child(5n+3) { fill: #FF4500 !important; stroke: #000 !important; }
            .highcharts-point:nth-child(5n+4) { fill: #2F4F4F !important; stroke: #000 !important; }
            .highcharts-point:nth-child(5n+5) { fill: #EEEEEE !important; stroke: #000 !important; }

            /* Tooltip */
            .highcharts-tooltip-box {
                fill: rgba(10, 10, 10, 0.95) !important;
                stroke: var(--color-primary) !important;
                stroke-width: 1px !important;
            }
            .highcharts-tooltip text {
                fill: #ffffff !important;
                font-family: var(--font-tactical) !important;
            }

            /* Chart Entrance */
            .highcharts-container {
                opacity: 0;
                animation: gridReveal 1s 0.5s forwards;
            }

            @keyframes gridReveal {
                from { opacity: 0; filter: contrast(2) brightness(2); }
                to { opacity: 1; filter: contrast(1) brightness(1); }
            }

            /* ==================================================================================
               9. MOTION CHOREOGRAPHY
               ================================================================================== */
            
            /* Staggered Panel Entry */
            .dashboard-row .dashboard-panel:nth-child(1) { animation: slideUp 0.6s 0.1s var(--ease-tech) both; }
            .dashboard-row .dashboard-panel:nth-child(2) { animation: slideUp 0.6s 0.2s var(--ease-tech) both; }
            .dashboard-row .dashboard-panel:nth-child(3) { animation: slideUp 0.6s 0.3s var(--ease-tech) both; }
            .dashboard-row .dashboard-panel:nth-child(4) { animation: slideUp 0.6s 0.4s var(--ease-tech) both; }

            @keyframes slideUp {
                from { 
                    opacity: 0; 
                    transform: translateY(20px); 
                    clip-path: polygon(0 0, 100% 0, 100% 0, 0 0); /* Closed */
                }
                to { 
                    opacity: 1; 
                    transform: translateY(0); 
                    clip-path: polygon(
                        0 0, 
                        calc(100% - 15px) 0, 
                        100% 15px, 
                        100% 100%, 
                        15px 100%, 
                        0 calc(100% - 15px)
                    ); /* Open */
                }
            }

            /* ==================================================================================
               10. UTILITIES
               ================================================================================== */
            
            /* Footer/Attribution */
            .dashboard-footer {
                text-align: right;
                font-family: var(--font-tactical);
                font-size: 10px;
                color: #333;
                margin-top: 50px;
                border-top: 1px dotted #333;
                padding-top: 10px;
            }
            
            /* Hide Edit Button in default view (Optional per preference) */
            .splunk-view-dashboard-editbtn {
                opacity: 0.1;
                transition: opacity 0.3s;
            }
            .splunk-view-dashboard-editbtn:hover {
                opacity: 1;
            }

        </style>
    </html>
</panel>
